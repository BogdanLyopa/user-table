{"version":3,"sources":["components/Modal/Modal.js","components/Table/Table.js","components/Filter/Filter.js","App.js","index.js"],"names":["modalRoot","document","querySelector","Modal","children","onCloseModal","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","ModalBackdrop","onClick","event","currentTarget","target","ModalContent","styled","div","Table","items","map","key","users","row","column","Filter","changeFilter","filter","className","type","onChange","value","placeholder","DEFAULT_ARRAY","App","useState","showModal","setShowModal","selectedItems","setSelectedItems","id","Object","keys","boards","setBoards","currentBoard","setCurrentBoard","currentItem","setCurrentItem","setFilter","visibleItems","toLowerCase","includes","dragOverHandler","preventDefault","style","boxShadow","dropCardHandler","board","push","currentIndex","indexOf","splice","b","toggleModal","useCallback","prevShowModal","onSubmit","onDragOver","onDrop","item","index","onDragLeave","dragLeaveHandler","onDragStart","dragStartHandler","onDragEnd","dragEndHandler","dropIndex","dropHandler","draggable","handleDelete","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.78dbc62b.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nimport { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default function Modal({ children, onCloseModal }) {\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.code === \"Escape\") {\r\n        onCloseModal();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  }, [onCloseModal]);\r\n\r\n  const handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      onCloseModal();\r\n    }\r\n  };\r\n  return createPortal(\r\n    <ModalBackdrop onClick={handleBackdropClick}>\r\n      <ModalContent>{children}</ModalContent>\r\n    </ModalBackdrop>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nconst ModalBackdrop = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  min-height: 500px;\r\n  max-width: 700px;\r\n  width: 100%;\r\n  background-color: #fff;\r\n`;\r\n","import users from \"../../db.json\";\r\nimport \"./Table.css\";\r\n\r\nexport default function Table({ items }) {\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          {items.map((key) => (\r\n            <th key={key}>{key}</th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {users.map((row) => (\r\n          <tr>\r\n            {items.map((column) => (\r\n              <td key={row[column]}>{row[column]}</td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n","export default function Filter({ changeFilter, filter }) {\r\n  return (\r\n    <input\r\n      className=\"filter\"\r\n      type=\"text\"\r\n      onChange={changeFilter}\r\n      value={filter}\r\n      placeholder=\"Search...\"\r\n    />\r\n  );\r\n}\r\n","import { useState, useCallback } from \"react\";\nimport Modal from \"./components/Modal/Modal\";\nimport Table from \"./components/Table/Table\";\nimport Filter from \"./components/Filter/Filter\";\nimport users from \"./db.json\";\n\nconst DEFAULT_ARRAY = [\"id\", \"FirstName\", \"LastName\"];\n\nexport default function App() {\n  const [showModal, setShowModal] = useState(false);\n  const [selectedItems, setSelectedItems] = useState(DEFAULT_ARRAY);\n  const [boards, setBoards] = useState([\n    { id: 1, items: users[0] && Object.keys(users[0]) },\n    { id: 2, items: [] },\n  ]);\n  const [currentBoard, setCurrentBoard] = useState(null);\n  const [currentItem, setCurrentItem] = useState(null);\n  const [filter, setFilter] = useState(\"\");\n\n  const getVisibleItems = () => {\n    return boards[0].items.filter((key) =>\n      key.toLowerCase().includes(filter.toLowerCase())\n    );\n  };\n  const visibleItems = getVisibleItems();\n  const changeFilter = (event) => setFilter(event.target.value);\n  const dragOverHandler = (event) => {\n    event.preventDefault();\n    if (event.target.className === \"item\") {\n      event.target.style.boxShadow = \"0 4px 3px gray\";\n    }\n  };\n\n  const dragLeaveHandler = (event) => {\n    event.target.style.boxShadow = \"none\";\n  };\n\n  const dragStartHandler = (event, board, item) => {\n    setCurrentBoard(board);\n    setCurrentItem(item);\n  };\n\n  const dragEndHandler = (event) => {\n    event.preventDefault();\n    event.target.style.boxShadow = \"none\";\n  };\n  const dropHandler = (event, board, item) => {\n    const currentIndex = currentBoard.items.indexOf(currentItem);\n    currentBoard.items.splice(currentIndex, 1);\n    const dropIndex = board.items.indexOf(item);\n    board.items.splice(dropIndex + 1, 0, currentItem);\n    setBoards(\n      boards.map((b) => {\n        if (b.id === board.id) {\n          return board;\n        }\n        if (b.id === currentBoard.id) {\n          return currentBoard;\n        }\n        return b;\n      })\n    );\n    event.target.style.boxShadow = \"none\";\n  };\n\n  const dropCardHandler = (event, board) => {\n    event.preventDefault();\n    board.items.push(currentItem);\n    const currentIndex = currentBoard.items.indexOf(currentItem);\n    currentBoard.items.splice(currentIndex, 1);\n    setBoards(\n      boards.map((b) => {\n        if (b.id === board.id) {\n          return board;\n        }\n        if (b.id === currentBoard.id) {\n          return currentBoard;\n        }\n        return b;\n      })\n    );\n  };\n\n  const toggleModal = useCallback(() => {\n    setShowModal((prevShowModal) => !prevShowModal);\n  }, []);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setSelectedItems(boards[1].items);\n    toggleModal();\n  };\n\n  const handleDelete = (board, item) => {\n    boards[0].items.push(item);\n    const currentIndex = board.items.indexOf(item);\n    board.items.splice(currentIndex, 1);\n    setBoards(\n      boards.map((b) => {\n        if (b.id === board.id) {\n          return board;\n        }\n        if (b.id === currentBoard.id) {\n          return currentBoard;\n        }\n        return b;\n      })\n    );\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"header\">\n        <h1>User Table</h1>\n        <button className=\"button\" type=\"button\" onClick={toggleModal}>\n          Select Grid Colums\n        </button>\n      </div>\n      <Table items={selectedItems} />\n      {showModal && (\n        <Modal onCloseModal={toggleModal}>\n          <div className=\"app\">\n            <h2>Select colums for the grid</h2>\n            <Filter changeFilter={changeFilter} filter={filter} />\n\n            <form onSubmit={handleSubmit}>\n              <div\n                className=\"board board-left\"\n                onDragOver={(event) => dragOverHandler(event)}\n                onDrop={(event) => dropCardHandler(event, boards[0])}\n              >\n                {visibleItems.map((item, index) => (\n                  <div\n                    key={index}\n                    onDragOver={(event) => dragOverHandler(event)}\n                    onDragLeave={(event) => dragLeaveHandler(event)}\n                    onDragStart={(event) =>\n                      dragStartHandler(event, boards[0], item)\n                    }\n                    onDragEnd={(event) => dragEndHandler(event)}\n                    onDrop={(event) => dropHandler(event, boards[0], item)}\n                    className=\"item\"\n                    draggable={true}\n                  >\n                    {item}\n                  </div>\n                ))}\n              </div>\n              <div\n                className=\"board\"\n                onDragOver={(event) => dragOverHandler(event)}\n                onDrop={(event) => dropCardHandler(event, boards[1])}\n              >\n                {boards[1].items.map((item, index) => (\n                  <div className=\"item\" key={index}>\n                    {item}\n                    <button\n                      className=\"button-delete\"\n                      type=\"button\"\n                      onClick={() => handleDelete(boards[1], item)}\n                    >\n                      X\n                    </button>\n                  </div>\n                ))}\n              </div>\n              <button className=\"button\" type=\"submit\">\n                Aply\n              </button>\n            </form>\n          </div>\n        </Modal>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}